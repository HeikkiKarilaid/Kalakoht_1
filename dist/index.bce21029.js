var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire7782;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,o.call(l.exports,l,l.exports),l.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire7782=o);var l=o("6AR8M"),r=o("8c1ok"),a=o("gdelx"),s=o("GAZSx");const i=(0,a.getDatabase)(r.app),c=document.getElementById("username"),u=document.getElementById("email"),d=document.querySelector(".button-create"),g=document.querySelector(".button-login"),f=document.getElementById("password"),m=(0,l.getAuth)(),p=document.getElementById("login-error-msg");d.addEventListener("click",e=>{e.preventDefault();let t=c.value,n=f.value,o=u.value;""===t?p.textContent="Username required!":(0,l.createUserWithEmailAndPassword)(m,o,n).then(e=>{let n=e.user.uid;(0,a.set)((0,a.ref)(i,"users/"+n),{coordinates:s.getLocation,username:t,email:o}).then(()=>(console.log("Data saved successfully!"),v(n))).catch(e=>{console.error("Error saving data:",e)})}).catch(e=>{let t=e.code;console.log(t);let n=e.message;p.style.opacity=1,p.textContent=n,console.log(n)})}),g.addEventListener("click",function(e){e.preventDefault();let t=f.value,n=u.value;(0,l.signInWithEmailAndPassword)(m,n,t).then(e=>{let t=e.user.uid;return v(t)}).catch(e=>{let t=e.code;console.log(t);let n=e.message;p.style.opacity=1,p.textContent=n,console.log(n)})});const v=function(e){(0,a.update)((0,a.ref)(i,"users/"+e),{last_login:h(),coordinates:s.getLocation}).then(()=>(console.log("Signed in"),window.location.assign("mainPage.html"),e)).catch(e=>{console.error("Error saving data:",e)})};function h(){let e=new Date,t=e.getDate(),n=e.getMonth()+1,o=e.getFullYear(),l=e.getHours(),r=e.getMinutes();return h=`${t}/${n}/${o}, ${l}:${r}`}
//# sourceMappingURL=index.bce21029.js.map
